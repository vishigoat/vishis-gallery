<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vishi's Gallery</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family:sans-serif; }
body { background: linear-gradient(to bottom right, #4b0082, #191970, #000); color:#fff; overflow-x:hidden; }
header { text-align:center; padding:20px; }
header h1 { font-size:2.5rem; }
header p { opacity:0.8; margin:8px 0; }
#addURLBtn { display:none; margin-top:10px; padding:8px 16px; border:none; border-radius:20px; background: rgba(255,255,255,0.1); color:#fff; cursor:pointer; transition:0.3s; }
#addURLBtn:hover { background: rgba(255,255,255,0.2); }

#gallery { display:grid; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); gap:20px; padding:20px; perspective:1200px; transform-style: preserve-3d; transition: transform 0.6s cubic-bezier(.2,.9,.3,1); }
.card { position:relative; background: rgba(255,255,255,0.02); border-radius:24px; overflow:hidden; cursor:pointer; transition: transform 0.3s, box-shadow 0.3s; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 10px 40px rgba(0,0,0,0.5), inset 0 -10px 30px rgba(255,255,255,0.05); }
.card img { width:100%; height:250px; object-fit:cover; display:block; border-radius:20px; }
.card:hover { transform: scale(1.05) rotateX(5deg) rotateY(5deg); box-shadow: 0 20px 60px rgba(0,0,0,0.7), inset 0 -20px 40px rgba(255,255,255,0.08); }
.empty-msg { grid-column:1/-1; text-align:center; opacity:0.6; padding:40px 0; }

#modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); justify-content:center; align-items:center; }
#modal img { max-width:90vw; max-height:90vh; border-radius:15px; }
#closeModal { position:absolute; top:20px; right:30px; font-size:2rem; cursor:pointer; color:#fff; }
</style>
</head>
<body>

<header>
  <h1>WELCOME TO VISHI'S GALLERY YALL</h1>
  <p>Curated by Vishi</p>
  <button id="addURLBtn">Add Image URL</button>
</header>

<div id="gallery"></div>

<div id="modal">
  <span id="closeModal">&times;</span>
  <img id="modalImg" src="">
</div>

<script>
const gallery = document.getElementById('gallery');
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modalImg');
const closeModal = document.getElementById('closeModal');
const addURLBtn = document.getElementById('addURLBtn');

// Public gallery URLs (everyone sees these)
let designs = [
  {src:"https://via.placeholder.com/400x500/ff7f7f/000?text=Design+1"},
  {src:"https://via.placeholder.com/400x500/7fff7f/000?text=Design+2"},
];

// Render gallery
function renderGallery() {
  gallery.innerHTML='';
  if(designs.length===0){
    const p=document.createElement('p');
    p.className='empty-msg';
    p.textContent='No designs yet.';
    gallery.appendChild(p);
    return;
  }
  designs.forEach(d=>{
    const card=document.createElement('div');
    card.className='card';
    const img=document.createElement('img');
    img.src=d.src;
    card.appendChild(img);
    gallery.appendChild(card);

    card.addEventListener('click', ()=>{
      modal.style.display='flex';
      modalImg.src=d.src;
    });
  });
}

renderGallery();

// Close modal
closeModal.addEventListener('click', ()=> modal.style.display='none');
modal.addEventListener('click', e=> { if(e.target===modal) modal.style.display='none'; });

// Drag rotation
let rotX=0, rotY=0, dragging=false, startX=0, startY=0;
gallery.addEventListener('mousedown', e=>{
  dragging=true; startX=e.clientX; startY=e.clientY;
});
window.addEventListener('mousemove', e=>{
  if(!dragging) return;
  const dx=e.clientX - startX;
  const dy=e.clientY - startY;
  rotY = dx*0.08;
  rotX = 10 + dy*0.06;
  gallery.style.transform = `perspective(1200px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
});
window.addEventListener('mouseup', e=>{
  dragging=false;
  gallery.style.transition='transform 0.6s cubic-bezier(.2,.9,.3,1)';
  gallery.style.transform='perspective(1200px) rotateX(10deg) rotateY(0deg)';
});

// Admin: show "Add URL" button on Shift + A
window.addEventListener('keydown', e=>{
  if(e.shiftKey && e.key.toLowerCase()==='a'){
    addURLBtn.style.display='inline-block';
  }
});

// Admin adds a new image URL
addURLBtn.addEventListener('click', ()=>{
  const url = prompt("Enter public image URL:");
  if(url){
    designs.unshift({src:url});
    renderGallery();
  }
});
</script>

</body>
</html>
